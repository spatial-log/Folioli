module.exports=[74570,a=>{"use strict";var b,c,d,e,f=a.i(32159);(b=d||(d={}))[b.Audio=1]="Audio",b[b.Cache=2]="Cache",b[b.Config=3]="Config",b[b.Data=4]="Data",b[b.LocalData=5]="LocalData",b[b.Document=6]="Document",b[b.Download=7]="Download",b[b.Picture=8]="Picture",b[b.Public=9]="Public",b[b.Video=10]="Video",b[b.Resource=11]="Resource",b[b.Temp=12]="Temp",b[b.AppConfig=13]="AppConfig",b[b.AppData=14]="AppData",b[b.AppLocalData=15]="AppLocalData",b[b.AppCache=16]="AppCache",b[b.AppLog=17]="AppLog",b[b.Desktop=18]="Desktop",b[b.Executable=19]="Executable",b[b.Font=20]="Font",b[b.Home=21]="Home",b[b.Runtime=22]="Runtime",b[b.Template=23]="Template";var g=f;function h(a){return{isFile:a.isFile,isDirectory:a.isDirectory,isSymlink:a.isSymlink,size:a.size,mtime:null!==a.mtime?new Date(a.mtime):null,atime:null!==a.atime?new Date(a.atime):null,birthtime:null!==a.birthtime?new Date(a.birthtime):null,readonly:a.readonly,fileAttributes:a.fileAttributes,dev:a.dev,ino:a.ino,mode:a.mode,nlink:a.nlink,uid:a.uid,gid:a.gid,rdev:a.rdev,blksize:a.blksize,blocks:a.blocks}}(c=e||(e={}))[c.Start=0]="Start",c[c.Current=1]="Current",c[c.End=2]="End";class i extends g.Resource{async read(a){if(0===a.byteLength)return 0;let b=await (0,g.invoke)("plugin:fs|read",{rid:this.rid,len:a.byteLength}),c=function(a){let b=new Uint8ClampedArray(a),c=b.byteLength,d=0;for(let a=0;a<c;a++)d*=256,d+=b[a];return d}(b.slice(-8)),d=b instanceof ArrayBuffer?new Uint8Array(b):b;return a.set(d.slice(0,d.length-8)),0===c?null:c}async seek(a,b){return await (0,g.invoke)("plugin:fs|seek",{rid:this.rid,offset:a,whence:b})}async stat(){return h(await (0,g.invoke)("plugin:fs|fstat",{rid:this.rid}))}async truncate(a){await (0,g.invoke)("plugin:fs|ftruncate",{rid:this.rid,len:a})}async write(a){return await (0,g.invoke)("plugin:fs|write",{rid:this.rid,data:a})}}async function j(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");return new i(await (0,g.invoke)("plugin:fs|create",{path:a instanceof URL?a.toString():a,options:b}))}async function k(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");return new i(await (0,g.invoke)("plugin:fs|open",{path:a instanceof URL?a.toString():a,options:b}))}async function l(a,b,c){if(a instanceof URL&&"file:"!==a.protocol||b instanceof URL&&"file:"!==b.protocol)throw TypeError("Must be a file URL.");await (0,g.invoke)("plugin:fs|copy_file",{fromPath:a instanceof URL?a.toString():a,toPath:b instanceof URL?b.toString():b,options:c})}async function m(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");await (0,g.invoke)("plugin:fs|mkdir",{path:a instanceof URL?a.toString():a,options:b})}async function n(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");return await (0,g.invoke)("plugin:fs|read_dir",{path:a instanceof URL?a.toString():a,options:b})}async function o(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");let c=await (0,g.invoke)("plugin:fs|read_file",{path:a instanceof URL?a.toString():a,options:b});return c instanceof ArrayBuffer?new Uint8Array(c):Uint8Array.from(c)}async function p(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");let c=await (0,g.invoke)("plugin:fs|read_text_file",{path:a instanceof URL?a.toString():a,options:b}),d=c instanceof ArrayBuffer?c:Uint8Array.from(c);return new TextDecoder().decode(d)}async function q(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");let c=a instanceof URL?a.toString():a;return await Promise.resolve({path:c,rid:null,async next(){null===this.rid&&(this.rid=await (0,g.invoke)("plugin:fs|read_text_file_lines",{path:c,options:b}));let a=await (0,g.invoke)("plugin:fs|read_text_file_lines_next",{rid:this.rid}),d=a instanceof ArrayBuffer?new Uint8Array(a):Uint8Array.from(a),e=1===d[d.byteLength-1];return e?(this.rid=null,{value:null,done:e}):{value:new TextDecoder().decode(d.slice(0,d.byteLength-1)),done:e}},[Symbol.asyncIterator](){return this}})}async function r(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");await (0,g.invoke)("plugin:fs|remove",{path:a instanceof URL?a.toString():a,options:b})}async function s(a,b,c){if(a instanceof URL&&"file:"!==a.protocol||b instanceof URL&&"file:"!==b.protocol)throw TypeError("Must be a file URL.");await (0,g.invoke)("plugin:fs|rename",{oldPath:a instanceof URL?a.toString():a,newPath:b instanceof URL?b.toString():b,options:c})}async function t(a,b){return h(await (0,g.invoke)("plugin:fs|stat",{path:a instanceof URL?a.toString():a,options:b}))}async function u(a,b){return h(await (0,g.invoke)("plugin:fs|lstat",{path:a instanceof URL?a.toString():a,options:b}))}async function v(a,b,c){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");await (0,g.invoke)("plugin:fs|truncate",{path:a instanceof URL?a.toString():a,len:b,options:c})}async function w(a,b,c){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");if(b instanceof ReadableStream){let d=await k(a,{read:!1,create:!0,write:!0,...c}),e=b.getReader();try{for(;;){let{done:a,value:b}=await e.read();if(a)break;await d.write(b)}}finally{e.releaseLock(),await d.close()}}else await (0,g.invoke)("plugin:fs|write_file",b,{headers:{path:encodeURIComponent(a instanceof URL?a.toString():a),options:JSON.stringify(c)}})}async function x(a,b,c){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");let d=new TextEncoder;await (0,g.invoke)("plugin:fs|write_text_file",d.encode(b),{headers:{path:encodeURIComponent(a instanceof URL?a.toString():a),options:JSON.stringify(c)}})}async function y(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");return await (0,g.invoke)("plugin:fs|exists",{path:a instanceof URL?a.toString():a,options:b})}class z extends g.Resource{}async function A(a,b,c){let d=Array.isArray(a)?a:[a];for(let a of d)if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");let e=new g.Channel;e.onmessage=b;let f=new z(await (0,g.invoke)("plugin:fs|watch",{paths:d.map(a=>a instanceof URL?a.toString():a),options:c,onEvent:e}));return()=>{f.close()}}async function B(a,b,c){return await A(a,b,{delayMs:2e3,...c})}async function C(a,b,c){return await A(a,b,{...c,delayMs:void 0})}async function D(a){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");return await (0,g.invoke)("plugin:fs|size",{path:a instanceof URL?a.toString():a})}a.s(["FileHandle",()=>i,"SeekMode",()=>e,"copyFile",()=>l,"create",()=>j,"exists",()=>y,"lstat",()=>u,"mkdir",()=>m,"open",()=>k,"readDir",()=>n,"readFile",()=>o,"readTextFile",()=>p,"readTextFileLines",()=>q,"remove",()=>r,"rename",()=>s,"size",()=>D,"stat",()=>t,"truncate",()=>v,"watch",()=>B,"watchImmediate",()=>C,"writeFile",()=>w,"writeTextFile",()=>x],86431),a.i(86431),a.s(["BaseDirectory",()=>d,"FileHandle",()=>i,"SeekMode",()=>e,"copyFile",()=>l,"create",()=>j,"exists",()=>y,"lstat",()=>u,"mkdir",()=>m,"open",()=>k,"readDir",()=>n,"readFile",()=>o,"readTextFile",()=>p,"readTextFileLines",()=>q,"remove",()=>r,"rename",()=>s,"size",()=>D,"stat",()=>t,"truncate",()=>v,"watch",()=>B,"watchImmediate",()=>C,"writeFile",()=>w,"writeTextFile",()=>x],74570)}];

//# sourceMappingURL=node_modules_%40tauri-apps_plugin-fs_dist-js_index_4567f1bd.js.map