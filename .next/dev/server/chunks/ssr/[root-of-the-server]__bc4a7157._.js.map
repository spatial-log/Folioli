{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/lib/db.ts"],"sourcesContent":["import Database from \"@tauri-apps/plugin-sql\";\n\nlet dbInstance: Database | null = null;\n\n/**\n * Initialize the database connection and schema.\n * Returns the database instance.\n */\nexport async function initDB(): Promise<Database | null> {\n    // Check if running in Tauri environment\n    if (typeof window === \"undefined\" || !(\"__TAURI_INTERNALS__\" in window)) {\n        console.warn(\"⚠️ initDB called outside of Tauri environment\");\n        return null;\n    }\n\n    if (dbInstance) {\n        return dbInstance;\n    }\n\n    try {\n        dbInstance = await Database.load(\"sqlite:folioli.db\");\n        console.log(\"✅ Database connected: folioli.db\");\n\n        // Drop table for dev (Warning: Data Loss)\n        // await dbInstance.execute(\"DROP TABLE IF EXISTS transactions\"); \n\n        // Create transactions table if it doesn't exist\n        await dbInstance.execute(`\n            CREATE TABLE IF NOT EXISTS transactions (\n                id INTEGER PRIMARY KEY AUTOINCREMENT,\n                date TEXT NOT NULL,\n                transaction_code TEXT,\n                name TEXT NOT NULL,\n                memo TEXT,\n                category TEXT,\n                amount REAL NOT NULL,\n                status TEXT DEFAULT 'pending',\n                created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n            )\n        `);\n\n        // Check if we need to migrate (simple check: does 'name' column exist?)\n        try {\n            await dbInstance.execute(\"SELECT name FROM transactions LIMIT 1\");\n        } catch (e) {\n            console.log(\"⚠️ Schema mismatch detected. Recreating table...\");\n            await dbInstance.execute(\"DROP TABLE IF EXISTS transactions\");\n            await dbInstance.execute(`\n                CREATE TABLE IF NOT EXISTS transactions (\n                    id INTEGER PRIMARY KEY AUTOINCREMENT,\n                    date TEXT NOT NULL,\n                    transaction_code TEXT,\n                    name TEXT NOT NULL,\n                    memo TEXT,\n                    category TEXT,\n                    amount REAL NOT NULL,\n                    status TEXT DEFAULT 'pending',\n                    created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n                )\n            `);\n        }\n        console.log(\"✅ Schema initialized: 'transactions' table ready\");\n\n        return dbInstance;\n    } catch (error) {\n        console.error(\"❌ Failed to initialize database:\", error);\n        return null;\n    }\n}\n\n/**\n * Get the existing database instance.\n * Throws an error if not initialized.\n */\nexport function getDB(): Database {\n    if (!dbInstance) {\n        throw new Error(\"Database not initialized. Call initDB() first.\");\n    }\n    return dbInstance;\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,IAAI,aAA8B;AAM3B,eAAe;IAClB,wCAAwC;IACxC,IAAI,kDAAkB,eAAe,CAAC,CAAC,yBAAyB,MAAM,GAAG;QACrE,QAAQ,IAAI,CAAC;QACb,OAAO;IACX;;;AAuDJ;AAMO,SAAS;IACZ,IAAI,CAAC,YAAY;QACb,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/lib/categories.ts"],"sourcesContent":["// Predefined categories for transaction classification\nexport const CATEGORIES = [\n    \"Uncategorized\",\n    \"Groceries\",\n    \"Dining\",\n    \"Takeout\",\n    \"Cafe\",\n    \"Restaurant\",\n    \"Fuel\",\n    \"Car Repairs\",\n    \"Car Wash\",\n    \"Parking\",\n    \"Public Transit\",\n    \"Rideshare\",\n    \"Rent\",\n    \"Utilities\",\n    \"Phone & Internet\",\n    \"Subscriptions\",\n    \"Insurance\",\n    \"Healthcare\",\n    \"Pharmacy\",\n    \"Fitness\",\n    \"Personal Care\",\n    \"Clothing\",\n    \"Electronics\",\n    \"Home & Garden\",\n    \"Books & Records\",\n    \"Hobbies\",\n    \"Entertainment\",\n    \"Travel\",\n    \"Hotels\",\n    \"Flights\",\n    \"Gifts\",\n    \"Charity\",\n    \"Education\",\n    \"Office Supplies\",\n    \"Business Expense\",\n    \"Account Transfer\",\n    \"E-Transfer\",\n    \"ATM Withdrawal\",\n    \"Bank Fee\",\n    \"Income\",\n    \"Refund\",\n    \"Other\"\n] as const;\n\nexport type Category = typeof CATEGORIES[number];\n\n// Keyword mapping for auto-categorization\n// Each category has an array of keywords/patterns to match\nconst CATEGORY_KEYWORDS: Record<string, string[]> = {\n    \"Groceries\": [\n        \"grocery\", \"supermarket\", \"whole foods\", \"trader joe\", \"costco\", \"walmart\",\n        \"target\", \"safeway\", \"kroger\", \"publix\", \"aldi\", \"lidl\", \"metro\", \"loblaws\",\n        \"sobeys\", \"no frills\", \"food basics\", \"freshco\", \"save-on\", \"iga\"\n    ],\n    \"Dining\": [\n        \"restaurant\", \"bistro\", \"grill\", \"steakhouse\", \"sushi\", \"thai\", \"indian\",\n        \"chinese\", \"mexican\", \"italian\", \"diner\", \"eatery\"\n    ],\n    \"Takeout\": [\n        \"doordash\", \"uber eats\", \"ubereats\", \"skip the dishes\", \"grubhub\", \"postmates\",\n        \"instacart\", \"delivery\", \"takeout\", \"take out\", \"pizza hut\", \"domino\",\n        \"mcdonald\", \"burger king\", \"wendy\", \"taco bell\", \"chipotle\", \"subway\",\n        \"kfc\", \"popeyes\", \"chick-fil-a\", \"five guys\", \"shake shack\"\n    ],\n    \"Cafe\": [\n        \"starbucks\", \"tim horton\", \"dunkin\", \"coffee\", \"cafe\", \"café\", \"tea\",\n        \"espresso\", \"latte\", \"bakery\", \"pastry\", \"peet's\"\n    ],\n    \"Fuel\": [\n        \"gas\", \"fuel\", \"shell\", \"esso\", \"petro\", \"chevron\", \"exxon\", \"mobil\",\n        \"bp \", \"sunoco\", \"texaco\", \"citgo\", \"valero\", \"costco gas\", \"canadian tire gas\"\n    ],\n    \"Car Repairs\": [\n        \"auto repair\", \"mechanic\", \"oil change\", \"tire\", \"midas\", \"jiffy lube\",\n        \"autozone\", \"napa auto\", \"canadian tire\", \"mr. lube\", \"meineke\"\n    ],\n    \"Car Wash\": [\n        \"car wash\", \"carwash\", \"auto spa\", \"detail\"\n    ],\n    \"Parking\": [\n        \"parking\", \"parkade\", \"impark\", \"indigo park\", \"meter\"\n    ],\n    \"Public Transit\": [\n        \"transit\", \"metro\", \"subway\", \"bus\", \"ttc\", \"stm\", \"translink\", \"oc transpo\"\n    ],\n    \"Rideshare\": [\n        \"uber\", \"lyft\", \"taxi\", \"cab\"\n    ],\n    \"Rent\": [\n        \"rent\", \"lease\", \"landlord\", \"property management\"\n    ],\n    \"Utilities\": [\n        \"hydro\", \"electric\", \"power\", \"water\", \"gas bill\", \"utility\", \"enbridge\",\n        \"fortis\", \"bc hydro\", \"toronto hydro\"\n    ],\n    \"Phone & Internet\": [\n        \"bell\", \"rogers\", \"telus\", \"fido\", \"koodo\", \"virgin mobile\", \"freedom mobile\",\n        \"shaw\", \"videotron\", \"verizon\", \"at&t\", \"t-mobile\", \"sprint\", \"comcast\"\n    ],\n    \"Subscriptions\": [\n        \"netflix\", \"spotify\", \"apple music\", \"amazon prime\", \"disney+\", \"hulu\",\n        \"hbo\", \"youtube premium\", \"audible\", \"patreon\", \"substack\", \"medium\",\n        \"adobe\", \"microsoft 365\", \"dropbox\", \"icloud\", \"google one\"\n    ],\n    \"Insurance\": [\n        \"insurance\", \"geico\", \"allstate\", \"state farm\", \"progressive\", \"intact\",\n        \"desjardins insurance\", \"td insurance\", \"belair\"\n    ],\n    \"Healthcare\": [\n        \"doctor\", \"clinic\", \"hospital\", \"medical\", \"dental\", \"dentist\", \"optometrist\",\n        \"physio\", \"chiropractor\", \"therapy\", \"health\"\n    ],\n    \"Pharmacy\": [\n        \"pharmacy\", \"drug\", \"shoppers drug\", \"walgreens\", \"cvs\", \"rexall\",\n        \"london drugs\", \"rx\"\n    ],\n    \"Fitness\": [\n        \"gym\", \"fitness\", \"goodlife\", \"planet fitness\", \"equinox\", \"ymca\", \"yoga\",\n        \"crossfit\", \"peloton\"\n    ],\n    \"Personal Care\": [\n        \"salon\", \"barber\", \"hair\", \"spa\", \"nail\", \"beauty\", \"sephora\", \"ulta\"\n    ],\n    \"Clothing\": [\n        \"clothing\", \"apparel\", \"h&m\", \"zara\", \"gap\", \"old navy\", \"uniqlo\",\n        \"nordstrom\", \"macy\", \"nike\", \"adidas\", \"lululemon\", \"aritzia\"\n    ],\n    \"Electronics\": [\n        \"best buy\", \"apple store\", \"microsoft store\", \"electronics\", \"computer\",\n        \"phone\", \"laptop\"\n    ],\n    \"Home & Garden\": [\n        \"home depot\", \"lowes\", \"ikea\", \"wayfair\", \"bed bath\", \"williams sonoma\",\n        \"crate & barrel\", \"pottery barn\", \"home hardware\", \"rona\"\n    ],\n    \"Books & Records\": [\n        \"book\", \"amazon kindle\", \"chapters\", \"indigo\", \"barnes\", \"vinyl\", \"record\"\n    ],\n    \"Hobbies\": [\n        \"hobby\", \"craft\", \"michaels\", \"joann\", \"hobby lobby\", \"game\", \"sport\"\n    ],\n    \"Entertainment\": [\n        \"cinema\", \"movie\", \"theatre\", \"theater\", \"concert\", \"ticket\", \"event\",\n        \"amc\", \"cineplex\", \"regal\", \"stubhub\", \"ticketmaster\", \"live nation\"\n    ],\n    \"Travel\": [\n        \"travel\", \"expedia\", \"booking.com\", \"airbnb\", \"vrbo\", \"tripadvisor\"\n    ],\n    \"Hotels\": [\n        \"hotel\", \"marriott\", \"hilton\", \"hyatt\", \"ihg\", \"wyndham\", \"best western\",\n        \"motel\", \"inn\", \"resort\"\n    ],\n    \"Flights\": [\n        \"airline\", \"air canada\", \"westjet\", \"united\", \"delta\", \"american airlines\",\n        \"southwest\", \"jetblue\", \"spirit\", \"frontier\", \"flight\"\n    ],\n    \"Gifts\": [\n        \"gift\", \"present\", \"hallmark\", \"card\"\n    ],\n    \"Charity\": [\n        \"charity\", \"donation\", \"donate\", \"nonprofit\", \"foundation\", \"red cross\"\n    ],\n    \"Education\": [\n        \"tuition\", \"school\", \"university\", \"college\", \"course\", \"udemy\", \"coursera\",\n        \"skillshare\", \"masterclass\"\n    ],\n    \"Office Supplies\": [\n        \"staples\", \"office depot\", \"office max\", \"stationery\"\n    ],\n    \"Account Transfer\": [\n        \"transfer\", \"e-transfer\", \"interac\", \"wire\", \"ach\", \"direct deposit\"\n    ],\n    \"E-Transfer\": [\n        \"e-transfer\", \"etransfer\", \"interac e-transfer\", \"email money\"\n    ],\n    \"ATM Withdrawal\": [\n        \"atm\", \"withdrawal\", \"cash\", \"withdraw\"\n    ],\n    \"Bank Fee\": [\n        \"fee\", \"service charge\", \"monthly fee\", \"overdraft\", \"nsf\"\n    ],\n    \"Income\": [\n        \"payroll\", \"salary\", \"deposit\", \"direct deposit\", \"income\", \"payment received\"\n    ],\n    \"Refund\": [\n        \"refund\", \"return\", \"credit\", \"reimbursement\"\n    ]\n};\n\n/**\n * Auto-categorize a transaction based on its name/description\n * Returns the best matching category or \"Uncategorized\"\n */\nexport function autoCategorize(name: string): Category {\n    const lowercaseName = name.toLowerCase();\n\n    // Check each category's keywords\n    for (const [category, keywords] of Object.entries(CATEGORY_KEYWORDS)) {\n        for (const keyword of keywords) {\n            if (lowercaseName.includes(keyword.toLowerCase())) {\n                return category as Category;\n            }\n        }\n    }\n\n    return \"Uncategorized\";\n}\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;AAChD,MAAM,aAAa;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAID,0CAA0C;AAC1C,2DAA2D;AAC3D,MAAM,oBAA8C;IAChD,aAAa;QACT;QAAW;QAAe;QAAe;QAAc;QAAU;QACjE;QAAU;QAAW;QAAU;QAAU;QAAQ;QAAQ;QAAS;QAClE;QAAU;QAAa;QAAe;QAAW;QAAW;KAC/D;IACD,UAAU;QACN;QAAc;QAAU;QAAS;QAAc;QAAS;QAAQ;QAChE;QAAW;QAAW;QAAW;QAAS;KAC7C;IACD,WAAW;QACP;QAAY;QAAa;QAAY;QAAmB;QAAW;QACnE;QAAa;QAAY;QAAW;QAAY;QAAa;QAC7D;QAAY;QAAe;QAAS;QAAa;QAAY;QAC7D;QAAO;QAAW;QAAe;QAAa;KACjD;IACD,QAAQ;QACJ;QAAa;QAAc;QAAU;QAAU;QAAQ;QAAQ;QAC/D;QAAY;QAAS;QAAU;QAAU;KAC5C;IACD,QAAQ;QACJ;QAAO;QAAQ;QAAS;QAAQ;QAAS;QAAW;QAAS;QAC7D;QAAO;QAAU;QAAU;QAAS;QAAU;QAAc;KAC/D;IACD,eAAe;QACX;QAAe;QAAY;QAAc;QAAQ;QAAS;QAC1D;QAAY;QAAa;QAAiB;QAAY;KACzD;IACD,YAAY;QACR;QAAY;QAAW;QAAY;KACtC;IACD,WAAW;QACP;QAAW;QAAW;QAAU;QAAe;KAClD;IACD,kBAAkB;QACd;QAAW;QAAS;QAAU;QAAO;QAAO;QAAO;QAAa;KACnE;IACD,aAAa;QACT;QAAQ;QAAQ;QAAQ;KAC3B;IACD,QAAQ;QACJ;QAAQ;QAAS;QAAY;KAChC;IACD,aAAa;QACT;QAAS;QAAY;QAAS;QAAS;QAAY;QAAW;QAC9D;QAAU;QAAY;KACzB;IACD,oBAAoB;QAChB;QAAQ;QAAU;QAAS;QAAQ;QAAS;QAAiB;QAC7D;QAAQ;QAAa;QAAW;QAAQ;QAAY;QAAU;KACjE;IACD,iBAAiB;QACb;QAAW;QAAW;QAAe;QAAgB;QAAW;QAChE;QAAO;QAAmB;QAAW;QAAW;QAAY;QAC5D;QAAS;QAAiB;QAAW;QAAU;KAClD;IACD,aAAa;QACT;QAAa;QAAS;QAAY;QAAc;QAAe;QAC/D;QAAwB;QAAgB;KAC3C;IACD,cAAc;QACV;QAAU;QAAU;QAAY;QAAW;QAAU;QAAW;QAChE;QAAU;QAAgB;QAAW;KACxC;IACD,YAAY;QACR;QAAY;QAAQ;QAAiB;QAAa;QAAO;QACzD;QAAgB;KACnB;IACD,WAAW;QACP;QAAO;QAAW;QAAY;QAAkB;QAAW;QAAQ;QACnE;QAAY;KACf;IACD,iBAAiB;QACb;QAAS;QAAU;QAAQ;QAAO;QAAQ;QAAU;QAAW;KAClE;IACD,YAAY;QACR;QAAY;QAAW;QAAO;QAAQ;QAAO;QAAY;QACzD;QAAa;QAAQ;QAAQ;QAAU;QAAa;KACvD;IACD,eAAe;QACX;QAAY;QAAe;QAAmB;QAAe;QAC7D;QAAS;KACZ;IACD,iBAAiB;QACb;QAAc;QAAS;QAAQ;QAAW;QAAY;QACtD;QAAkB;QAAgB;QAAiB;KACtD;IACD,mBAAmB;QACf;QAAQ;QAAiB;QAAY;QAAU;QAAU;QAAS;KACrE;IACD,WAAW;QACP;QAAS;QAAS;QAAY;QAAS;QAAe;QAAQ;KACjE;IACD,iBAAiB;QACb;QAAU;QAAS;QAAW;QAAW;QAAW;QAAU;QAC9D;QAAO;QAAY;QAAS;QAAW;QAAgB;KAC1D;IACD,UAAU;QACN;QAAU;QAAW;QAAe;QAAU;QAAQ;KACzD;IACD,UAAU;QACN;QAAS;QAAY;QAAU;QAAS;QAAO;QAAW;QAC1D;QAAS;QAAO;KACnB;IACD,WAAW;QACP;QAAW;QAAc;QAAW;QAAU;QAAS;QACvD;QAAa;QAAW;QAAU;QAAY;KACjD;IACD,SAAS;QACL;QAAQ;QAAW;QAAY;KAClC;IACD,WAAW;QACP;QAAW;QAAY;QAAU;QAAa;QAAc;KAC/D;IACD,aAAa;QACT;QAAW;QAAU;QAAc;QAAW;QAAU;QAAS;QACjE;QAAc;KACjB;IACD,mBAAmB;QACf;QAAW;QAAgB;QAAc;KAC5C;IACD,oBAAoB;QAChB;QAAY;QAAc;QAAW;QAAQ;QAAO;KACvD;IACD,cAAc;QACV;QAAc;QAAa;QAAsB;KACpD;IACD,kBAAkB;QACd;QAAO;QAAc;QAAQ;KAChC;IACD,YAAY;QACR;QAAO;QAAkB;QAAe;QAAa;KACxD;IACD,UAAU;QACN;QAAW;QAAU;QAAW;QAAkB;QAAU;KAC/D;IACD,UAAU;QACN;QAAU;QAAU;QAAU;KACjC;AACL;AAMO,SAAS,eAAe,IAAY;IACvC,MAAM,gBAAgB,KAAK,WAAW;IAEtC,iCAAiC;IACjC,KAAK,MAAM,CAAC,UAAU,SAAS,IAAI,OAAO,OAAO,CAAC,mBAAoB;QAClE,KAAK,MAAM,WAAW,SAAU;YAC5B,IAAI,cAAc,QAAQ,CAAC,QAAQ,WAAW,KAAK;gBAC/C,OAAO;YACX;QACJ;IACJ;IAEA,OAAO;AACX"}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/components/DropZone.tsx"],"sourcesContent":["import clsx from \"clsx\";\n\ninterface DropZoneProps {\n    onModelsImported: (data: any[]) => void;\n    isDragActive?: boolean; // Controlled by Tauri events from parent\n}\n\nexport function DropZone({ isDragActive }: DropZoneProps) {\n    // Note: The actual file drop handling is now done via Tauri events in page.tsx\n    // This component only provides the visual indicator.\n\n    return (\n        <div\n            className={clsx(\n                \"border-2 border-dashed rounded-lg p-12 text-center transition-colors cursor-pointer\",\n                isDragActive ? \"border-blue-500 bg-blue-50\" : \"border-gray-300 hover:border-gray-400\"\n            )}\n        >\n            <p className=\"text-lg font-medium text-gray-700\">Drop your bank CSV here</p>\n            <p className=\"text-sm text-gray-500 mt-2\">or click to browse (coming soon)</p>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,SAAS,SAAS,EAAE,YAAY,EAAiB;IACpD,+EAA+E;IAC/E,qDAAqD;IAErD,qBACI,8OAAC;QACG,WAAW,IAAA,gJAAI,EACX,uFACA,eAAe,+BAA+B;;0BAGlD,8OAAC;gBAAE,WAAU;0BAAoC;;;;;;0BACjD,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAGtD"}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/components/Header.tsx"],"sourcesContent":["import { Search, Settings, User } from \"lucide-react\";\n\ntype Tab = \"table\" | \"settings\";\n\ninterface HeaderProps {\n    activeTab: Tab;\n    onTabChange: (tab: Tab) => void;\n}\n\nexport function Header({ activeTab, onTabChange }: HeaderProps) {\n    return (\n        <header className=\"flex items-center justify-between px-6 py-4 bg-gray-50 border-b border-gray-200\">\n            {/* Logo */}\n            <div className=\"flex items-center gap-8\">\n                <h1 className=\"text-2xl font-bold text-gray-900 tracking-tight\">Folioli</h1>\n\n                {/* Navigation */}\n                <nav className=\"hidden md:flex items-center gap-6\">\n                    <button\n                        onClick={() => onTabChange(\"table\")}\n                        className={`text-sm font-medium transition ${activeTab === \"table\"\n                                ? \"text-gray-900 font-semibold\"\n                                : \"text-gray-500 hover:text-gray-900\"\n                            }`}\n                    >\n                        Dashboard\n                    </button>\n                    <button\n                        onClick={() => onTabChange(\"table\")}\n                        className={`text-sm font-medium transition ${activeTab === \"table\"\n                                ? \"text-gray-900 font-semibold\"\n                                : \"text-gray-500 hover:text-gray-900\"\n                            }`}\n                    >\n                        Table\n                    </button>\n                </nav>\n            </div>\n\n            {/* Right Section: Search & Actions */}\n            <div className=\"flex items-center gap-4\">\n                <div className=\"relative group\">\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                        <Search className=\"h-4 w-4 text-white\" />\n                    </div>\n                    <input\n                        type=\"text\"\n                        placeholder=\"\"\n                        className=\"block w-64 pl-10 pr-3 py-1.5 bg-[#7CB342] text-white placeholder-white/70 rounded-full border-none focus:outline-none focus:ring-2 focus:ring-[#7CB342]/50 transition-all hover:bg-[#689F38]\"\n                    />\n                </div>\n\n                <div className=\"flex items-center gap-3 pl-4 border-l border-gray-300\">\n                    <button\n                        onClick={() => onTabChange(\"settings\")}\n                        className={`p-2 rounded-full transition-colors ${activeTab === \"settings\"\n                                ? \"bg-gray-200 text-gray-900\"\n                                : \"text-gray-600 hover:bg-gray-200\"\n                            }`}\n                    >\n                        <Settings className=\"h-5 w-5\" />\n                    </button>\n                    <button className=\"h-8 w-8 bg-gray-300 rounded-full overflow-hidden hover:ring-2 hover:ring-gray-400 transition-all flex items-center justify-center\">\n                        <User className=\"h-5 w-5 text-gray-600\" />\n                    </button>\n                </div>\n            </div>\n        </header>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;;;AASO,SAAS,OAAO,EAAE,SAAS,EAAE,WAAW,EAAe;IAC1D,qBACI,8OAAC;QAAO,WAAU;;0BAEd,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAkD;;;;;;kCAGhE,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,SAAS,IAAM,YAAY;gCAC3B,WAAW,CAAC,+BAA+B,EAAE,cAAc,UACjD,gCACA,qCACJ;0CACT;;;;;;0CAGD,8OAAC;gCACG,SAAS,IAAM,YAAY;gCAC3B,WAAW,CAAC,+BAA+B,EAAE,cAAc,UACjD,gCACA,qCACJ;0CACT;;;;;;;;;;;;;;;;;;0BAOT,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,gNAAM;oCAAC,WAAU;;;;;;;;;;;0CAEtB,8OAAC;gCACG,MAAK;gCACL,aAAY;gCACZ,WAAU;;;;;;;;;;;;kCAIlB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,SAAS,IAAM,YAAY;gCAC3B,WAAW,CAAC,mCAAmC,EAAE,cAAc,aACrD,8BACA,mCACJ;0CAEN,cAAA,8OAAC,sNAAQ;oCAAC,WAAU;;;;;;;;;;;0CAExB,8OAAC;gCAAO,WAAU;0CACd,cAAA,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxC"}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/components/SettingsPage.tsx"],"sourcesContent":["import { Trash2, AlertTriangle } from \"lucide-react\";\nimport { useState } from \"react\";\n\ninterface SettingsPageProps {\n    onDeleteAllTransactions: () => Promise<void>;\n}\n\nexport function SettingsPage({ onDeleteAllTransactions }: SettingsPageProps) {\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n    const [isDeleting, setIsDeleting] = useState(false);\n\n    const handleDeleteAll = async () => {\n        setIsDeleting(true);\n        try {\n            await onDeleteAllTransactions();\n            setShowDeleteConfirm(false);\n        } catch (e) {\n            console.error(\"Failed to delete transactions:\", e);\n            alert(\"Failed to delete transactions.\");\n        } finally {\n            setIsDeleting(false);\n        }\n    };\n\n    return (\n        <div className=\"max-w-2xl mx-auto\">\n            <h2 className=\"text-xl font-bold text-gray-900 mb-6\">Settings</h2>\n\n            {/* Danger Zone */}\n            <div className=\"bg-white border border-red-200 rounded-lg overflow-hidden\">\n                <div className=\"bg-red-50 px-4 py-3 border-b border-red-200\">\n                    <h3 className=\"text-sm font-semibold text-red-800 uppercase tracking-wide flex items-center gap-2\">\n                        <AlertTriangle className=\"w-4 h-4\" />\n                        Danger Zone\n                    </h3>\n                </div>\n\n                <div className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            <h4 className=\"text-sm font-medium text-gray-900\">Delete All Transactions</h4>\n                            <p className=\"text-sm text-gray-500 mt-0.5\">\n                                Permanently remove all transaction data. This cannot be undone.\n                            </p>\n                        </div>\n                        <button\n                            onClick={() => setShowDeleteConfirm(true)}\n                            className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-200 rounded hover:bg-red-100 transition\"\n                        >\n                            <Trash2 className=\"w-4 h-4\" />\n                            Delete All\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Delete Confirmation Modal */}\n            {showDeleteConfirm && (\n                <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\" onClick={() => setShowDeleteConfirm(false)}>\n                    <div className=\"bg-white rounded-lg shadow-xl p-6 max-w-md mx-4\" onClick={e => e.stopPropagation()}>\n                        <div className=\"flex items-center gap-3 mb-4\">\n                            <div className=\"p-2 bg-red-100 rounded-full\">\n                                <AlertTriangle className=\"w-6 h-6 text-red-600\" />\n                            </div>\n                            <h3 className=\"text-lg font-semibold text-gray-900\">Delete All Transactions?</h3>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-6\">\n                            This will permanently delete <strong>all transaction data</strong> from the database.\n                            This action cannot be undone.\n                        </p>\n                        <div className=\"flex gap-3 justify-end\">\n                            <button\n                                onClick={() => setShowDeleteConfirm(false)}\n                                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200 transition\"\n                                disabled={isDeleting}\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={handleDeleteAll}\n                                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded hover:bg-red-700 transition disabled:opacity-50\"\n                                disabled={isDeleting}\n                            >\n                                {isDeleting ? \"Deleting...\" : \"Yes, Delete All\"}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAMO,SAAS,aAAa,EAAE,uBAAuB,EAAqB;IACvE,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,kBAAkB;QACpB,cAAc;QACd,IAAI;YACA,MAAM;YACN,qBAAqB;QACzB,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,kCAAkC;YAChD,MAAM;QACV,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAAuC;;;;;;0BAGrD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAG,WAAU;;8CACV,8OAAC,yOAAa;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAK7C,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;;sDACG,8OAAC;4CAAG,WAAU;sDAAoC;;;;;;sDAClD,8OAAC;4CAAE,WAAU;sDAA+B;;;;;;;;;;;;8CAIhD,8OAAC;oCACG,SAAS,IAAM,qBAAqB;oCACpC,WAAU;;sDAEV,8OAAC,oNAAM;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;YAQ7C,mCACG,8OAAC;gBAAI,WAAU;gBAAkE,SAAS,IAAM,qBAAqB;0BACjH,cAAA,8OAAC;oBAAI,WAAU;oBAAkD,SAAS,CAAA,IAAK,EAAE,eAAe;;sCAC5F,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,yOAAa;wCAAC,WAAU;;;;;;;;;;;8CAE7B,8OAAC;oCAAG,WAAU;8CAAsC;;;;;;;;;;;;sCAExD,8OAAC;4BAAE,WAAU;;gCAA6B;8CACT,8OAAC;8CAAO;;;;;;gCAA6B;;;;;;;sCAGtE,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCACG,SAAS,IAAM,qBAAqB;oCACpC,WAAU;oCACV,UAAU;8CACb;;;;;;8CAGD,8OAAC;oCACG,SAAS;oCACT,WAAU;oCACV,UAAU;8CAET,aAAa,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9D"}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/components/TransactionTable.tsx"],"sourcesContent":["import clsx from \"clsx\";\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport { ChevronUp, ChevronDown, Trash2, ChevronDownIcon, Search } from \"lucide-react\";\nimport Papa from \"papaparse\";\nimport { CATEGORIES } from \"@/lib/categories\";\n\nexport interface Transaction {\n    id?: number;\n    date: string;\n    transaction_code?: string;\n    name: string;\n    memo?: string;\n    category?: string;\n    amount: number;\n    status: \"pending\" | \"confirmed\";\n}\n\ntype SortField = \"date\" | \"name\" | \"amount\" | \"category\" | \"memo\" | \"status\";\ntype SortDirection = \"asc\" | \"desc\";\n\ninterface TransactionTableProps {\n    transactions: Transaction[];\n    onUpdate: (index: number, field: keyof Transaction, value: any) => void;\n    onDelete: (index: number) => void;\n    onPasteImport: (data: any[]) => void;\n    onSave?: () => void;\n}\n\nexport function TransactionTable({ transactions, onUpdate, onDelete, onPasteImport, onSave }: TransactionTableProps) {\n    const [sortField, setSortField] = useState<SortField>(\"date\");\n    const [sortDirection, setSortDirection] = useState<SortDirection>(\"desc\");\n    const [deleteConfirmIndex, setDeleteConfirmIndex] = useState<number | null>(null);\n    const [openCategoryIndex, setOpenCategoryIndex] = useState<number | null>(null);\n    const [dropdownPosition, setDropdownPosition] = useState<\"below\" | \"above\">(\"below\");\n    const [categorySearch, setCategorySearch] = useState(\"\");\n\n    // Sorted transactions\n    const sortedTransactions = [...transactions].sort((a, b) => {\n        let aVal = a[sortField] ?? \"\";\n        let bVal = b[sortField] ?? \"\";\n\n        if (sortField === \"amount\") {\n            return sortDirection === \"asc\" ? a.amount - b.amount : b.amount - a.amount;\n        }\n\n        const comparison = String(aVal).localeCompare(String(bVal));\n        return sortDirection === \"asc\" ? comparison : -comparison;\n    });\n\n    // Get original index from sorted position\n    const getOriginalIndex = (sortedIndex: number): number => {\n        const tx = sortedTransactions[sortedIndex];\n        return transactions.findIndex(t => t === tx);\n    };\n\n    // Handle column header click for sorting\n    const handleSort = (field: SortField) => {\n        if (sortField === field) {\n            setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n        } else {\n            setSortField(field);\n            setSortDirection(\"asc\");\n        }\n    };\n\n    // Sort indicator component - only shows when column is sorted\n    const SortIndicator = ({ field }: { field: SortField }) => {\n        if (sortField !== field) return null;\n\n        return (\n            <span className=\"ml-1.5 inline-block\">\n                <svg\n                    width=\"8\"\n                    height=\"6\"\n                    viewBox=\"0 0 8 6\"\n                    fill=\"currentColor\"\n                    className={clsx(\n                        \"transition-transform\",\n                        sortDirection === \"desc\" && \"rotate-180\"\n                    )}\n                >\n                    <path d=\"M4 0L8 6H0L4 0Z\" />\n                </svg>\n            </span>\n        );\n    };\n\n    // Global paste listener for CSV data\n    useEffect(() => {\n        const handlePaste = async (e: ClipboardEvent) => {\n            // Don't intercept if user is typing in an input\n            if ((e.target as HTMLElement)?.tagName === \"INPUT\" || (e.target as HTMLElement)?.tagName === \"TEXTAREA\") {\n                return;\n            }\n\n            const clipboardData = e.clipboardData?.getData(\"text\");\n            if (!clipboardData) return;\n\n            // Try to parse as CSV (Tab-separated for Excel / comma for CSV)\n            const hasTabsOrCommas = clipboardData.includes(\"\\t\") || clipboardData.includes(\",\");\n            const hasNewlines = clipboardData.includes(\"\\n\");\n\n            if (hasTabsOrCommas && hasNewlines) {\n                e.preventDefault();\n\n                Papa.parse(clipboardData, {\n                    header: true,\n                    skipEmptyLines: true,\n                    complete: (results) => {\n                        if (results.data.length > 0) {\n                            onPasteImport(results.data as any[]);\n                        }\n                    }\n                });\n            }\n        };\n\n        document.addEventListener(\"paste\", handlePaste);\n        return () => document.removeEventListener(\"paste\", handlePaste);\n    }, [onPasteImport]);\n\n    // Handle delete confirmation\n    const handleDeleteClick = (sortedIndex: number) => {\n        setDeleteConfirmIndex(sortedIndex);\n    };\n\n    const confirmDelete = () => {\n        if (deleteConfirmIndex !== null) {\n            onDelete(getOriginalIndex(deleteConfirmIndex));\n            setDeleteConfirmIndex(null);\n        }\n    };\n\n    const cancelDelete = () => {\n        setDeleteConfirmIndex(null);\n    };\n\n    return (\n        <div className=\"bg-white border border-gray-300 shadow-sm rounded-sm overflow-hidden\">\n            <div className=\"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-300\">\n                <h2 className=\"text-sm font-bold text-gray-700 uppercase tracking-wide\">Transactions</h2>\n                {onSave && (\n                    <button\n                        onClick={onSave}\n                        className=\"bg-slate-800 text-white text-sm px-4 py-1.5 rounded hover:bg-slate-900 transition font-medium\"\n                    >\n                        Save Changes\n                    </button>\n                )}\n            </div>\n\n            {/* Delete Confirmation Modal */}\n            {deleteConfirmIndex !== null && (\n                <div className=\"fixed inset-0 bg-black/30 flex items-center justify-center z-50\" onClick={cancelDelete}>\n                    <div className=\"bg-white rounded-lg shadow-xl p-6 max-w-sm mx-4\" onClick={e => e.stopPropagation()}>\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Delete Transaction?</h3>\n                        <p className=\"text-sm text-gray-600 mb-4\">\n                            Are you sure you want to delete \"{sortedTransactions[deleteConfirmIndex]?.name}\"? This action cannot be undone.\n                        </p>\n                        <div className=\"flex gap-3 justify-end\">\n                            <button\n                                onClick={cancelDelete}\n                                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200 transition\"\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={confirmDelete}\n                                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded hover:bg-red-700 transition\"\n                            >\n                                Delete\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full border-collapse table-fixed\">\n                    <thead className=\"bg-[#1e293b] text-white\">\n                        <tr>\n                            <th\n                                onClick={() => handleSort(\"date\")}\n                                className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider border-r border-slate-700 cursor-pointer hover:bg-slate-700 transition select-none resize-x overflow-hidden min-w-[100px]\"\n                                style={{ width: 120 }}\n                            >\n                                <span className=\"flex items-center\">Date <SortIndicator field=\"date\" /></span>\n                            </th>\n                            <th\n                                onClick={() => handleSort(\"name\")}\n                                className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider border-r border-slate-700 cursor-pointer hover:bg-slate-700 transition select-none resize-x overflow-hidden min-w-[150px]\"\n                                style={{ width: 250 }}\n                            >\n                                <span className=\"flex items-center\">Name <SortIndicator field=\"name\" /></span>\n                            </th>\n                            <th\n                                onClick={() => handleSort(\"amount\")}\n                                className=\"px-4 py-3 text-xs font-semibold uppercase tracking-wider border-r border-slate-700 text-right cursor-pointer hover:bg-slate-700 transition select-none resize-x overflow-hidden min-w-[80px]\"\n                                style={{ width: 120 }}\n                            >\n                                <span className=\"flex items-center justify-end\">Amount <SortIndicator field=\"amount\" /></span>\n                            </th>\n                            <th\n                                onClick={() => handleSort(\"category\")}\n                                className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider border-r border-slate-700 cursor-pointer hover:bg-slate-700 transition select-none resize-x overflow-hidden min-w-[100px]\"\n                                style={{ width: 140 }}\n                            >\n                                <span className=\"flex items-center\">Category <SortIndicator field=\"category\" /></span>\n                            </th>\n                            <th\n                                onClick={() => handleSort(\"memo\")}\n                                className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider border-r border-slate-700 cursor-pointer hover:bg-slate-700 transition select-none resize-x overflow-hidden min-w-[100px]\"\n                                style={{ width: 200 }}\n                            >\n                                <span className=\"flex items-center\">Memo <SortIndicator field=\"memo\" /></span>\n                            </th>\n                            <th\n                                onClick={() => handleSort(\"status\")}\n                                className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider cursor-pointer hover:bg-slate-700 transition select-none resize-x overflow-hidden min-w-[80px]\"\n                                style={{ width: 100 }}\n                            >\n                                <span className=\"flex items-center\">Status <SortIndicator field=\"status\" /></span>\n                            </th>\n                            <th className=\"w-10\"></th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-gray-200\">\n                        {sortedTransactions.map((tx, sortedIdx) => {\n                            const originalIdx = getOriginalIndex(sortedIdx);\n                            return (\n                                <tr key={originalIdx} className={clsx(\"hover:bg-blue-50/50 transition-colors group\", tx.status === \"pending\" && \"bg-yellow-50/30\")}>\n                                    {/* Date - Read Only */}\n                                    <td className=\"px-4 py-3 text-sm text-gray-900 border-r border-gray-200\">\n                                        {tx.date}\n                                    </td>\n                                    {/* Name - Read Only */}\n                                    <td className=\"px-4 py-3 text-sm font-medium text-gray-900 border-r border-gray-200\">\n                                        {tx.name}\n                                    </td>\n                                    {/* Amount - Read Only */}\n                                    <td className={clsx(\n                                        \"px-4 py-3 text-sm text-right font-mono border-r border-gray-200\",\n                                        tx.amount < 0 ? \"text-red-600\" : \"text-emerald-700 font-medium\"\n                                    )}>\n                                        {tx.amount < 0 ? \"-\" : \"\"}${Math.abs(tx.amount).toFixed(2)}\n                                    </td>\n                                    {/* Category - Searchable Dropdown */}\n                                    <td className=\"px-0 py-0 border-r border-gray-200 relative\">\n                                        <div\n                                            className={clsx(\n                                                \"w-full flex items-center justify-between cursor-pointer hover:bg-gray-50 transition\",\n                                                openCategoryIndex === sortedIdx && \"bg-blue-50 ring-2 ring-blue-500\"\n                                            )}\n                                            onClick={(e) => {\n                                                if (openCategoryIndex !== sortedIdx) {\n                                                    const rect = e.currentTarget.getBoundingClientRect();\n                                                    const spaceBelow = window.innerHeight - rect.bottom;\n                                                    const dropdownHeight = 240;\n                                                    setDropdownPosition(spaceBelow >= dropdownHeight ? \"below\" : \"above\");\n                                                    setCategorySearch(\"\");\n                                                    setOpenCategoryIndex(sortedIdx);\n                                                }\n                                            }}\n                                        >\n                                            {openCategoryIndex === sortedIdx ? (\n                                                <div className=\"flex items-center flex-1 px-3 py-2\">\n                                                    <Search className=\"w-4 h-4 text-gray-400 mr-2 flex-shrink-0\" />\n                                                    <input\n                                                        type=\"text\"\n                                                        autoFocus\n                                                        placeholder=\"Search categories...\"\n                                                        value={categorySearch}\n                                                        onChange={(e) => setCategorySearch(e.target.value)}\n                                                        onClick={(e) => e.stopPropagation()}\n                                                        className=\"w-full bg-transparent text-sm focus:outline-none\"\n                                                    />\n                                                </div>\n                                            ) : (\n                                                <div className=\"flex items-center justify-between w-full p-3\">\n                                                    <span className={clsx(\n                                                        \"truncate text-sm\",\n                                                        tx.category && tx.category !== \"Uncategorized\" ? \"text-gray-900\" : \"text-gray-400\"\n                                                    )}>\n                                                        {tx.category || \"Uncategorized\"}\n                                                    </span>\n                                                    <ChevronDownIcon className=\"w-4 h-4 ml-1 flex-shrink-0 text-gray-400\" />\n                                                </div>\n                                            )}\n                                        </div>\n                                        {openCategoryIndex === sortedIdx && (\n                                            <>\n                                                {/* Backdrop to close dropdown when clicking outside */}\n                                                <div\n                                                    className=\"fixed inset-0 z-40\"\n                                                    onClick={() => {\n                                                        setOpenCategoryIndex(null);\n                                                        setCategorySearch(\"\");\n                                                    }}\n                                                />\n                                                {/* Dropdown menu - positions above or below based on available space */}\n                                                <div className={clsx(\n                                                    \"absolute left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto\",\n                                                    dropdownPosition === \"below\" ? \"top-full\" : \"bottom-full\"\n                                                )}>\n                                                    {CATEGORIES\n                                                        .filter(cat => cat.toLowerCase().includes(categorySearch.toLowerCase()))\n                                                        .map(cat => (\n                                                            <button\n                                                                key={cat}\n                                                                type=\"button\"\n                                                                onClick={() => {\n                                                                    onUpdate(originalIdx, \"category\", cat);\n                                                                    setOpenCategoryIndex(null);\n                                                                    setCategorySearch(\"\");\n                                                                }}\n                                                                className={clsx(\n                                                                    \"w-full px-3 py-2 text-left text-sm hover:bg-blue-50 transition\",\n                                                                    tx.category === cat ? \"bg-blue-100 text-blue-900 font-medium\" : \"text-gray-700\"\n                                                                )}\n                                                            >\n                                                                {cat}\n                                                            </button>\n                                                        ))\n                                                    }\n                                                    {CATEGORIES.filter(cat => cat.toLowerCase().includes(categorySearch.toLowerCase())).length === 0 && (\n                                                        <div className=\"px-3 py-2 text-sm text-gray-400 italic\">No matching categories</div>\n                                                    )}\n                                                </div>\n                                            </>\n                                        )}\n                                    </td>\n                                    {/* Memo - Read Only */}\n                                    <td className=\"px-4 py-3 text-sm text-gray-500 border-r border-gray-200 truncate max-w-[200px]\">\n                                        {tx.memo || \"—\"}\n                                    </td>\n                                    {/* Status - Read Only */}\n                                    <td className=\"px-4 py-2 text-center\">\n                                        {tx.status === \"pending\" ? (\n                                            <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800\">\n                                                Pending\n                                            </span>\n                                        ) : (\n                                            <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-emerald-100 text-emerald-800\">\n                                                Confirmed\n                                            </span>\n                                        )}\n                                    </td>\n                                    {/* Delete Button - Subtle */}\n                                    <td className=\"px-2 py-2\">\n                                        <button\n                                            onClick={() => handleDeleteClick(sortedIdx)}\n                                            className=\"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-all\"\n                                            title=\"Delete transaction\"\n                                        >\n                                            <Trash2 className=\"w-4 h-4\" />\n                                        </button>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n                {transactions.length === 0 && (\n                    <div className=\"text-center p-12 text-gray-400 bg-gray-50/50\">\n                        No transactions found. Import a CSV to get started.\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1623, "column": 0}, "map": {"version":3,"sources":["file:///Users/tristan/Developer/Folioli/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { listen } from \"@tauri-apps/api/event\";\nimport Papa from \"papaparse\";\nimport { initDB, getDB } from \"@/lib/db\";\nimport { autoCategorize } from \"@/lib/categories\";\nimport { DropZone } from \"@/components/DropZone\";\nimport { Header } from \"@/components/Header\";\nimport { SettingsPage } from \"@/components/SettingsPage\";\nimport { TransactionTable, Transaction } from \"@/components/TransactionTable\";\n\ntype Tab = \"table\" | \"settings\";\n\nexport default function Home() {\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isDragOver, setIsDragOver] = useState(false);\n    const [activeTab, setActiveTab] = useState<Tab>(\"table\");\n\n    // Initialize database and Tauri file drop listener on component mount\n    useEffect(() => {\n        let unlistenDragOver: (() => void) | undefined;\n        let unlistenDragLeave: (() => void) | undefined;\n        let unlistenDrop: (() => void) | undefined;\n\n        async function setup() {\n            // Initialize DB\n            await initDB();\n            await loadTransactions();\n            setIsLoading(false);\n\n            // Tauri file drop listeners\n            unlistenDragOver = await listen<{ paths: string[] }>(\"tauri://drag-over\", () => {\n                setIsDragOver(true);\n            });\n\n            unlistenDragLeave = await listen(\"tauri://drag-leave\", () => {\n                setIsDragOver(false);\n            });\n\n            unlistenDrop = await listen<{ paths: string[] }>(\"tauri://drag-drop\", async (event) => {\n                setIsDragOver(false);\n                const paths = event.payload.paths;\n                console.log(\"Tauri Drop Event - Paths:\", paths);\n\n                const csvPath = paths.find(p => p.toLowerCase().endsWith(\".csv\"));\n                if (csvPath) {\n                    try {\n                        // Read file content using Tauri's fs API\n                        const { readTextFile } = await import(\"@tauri-apps/plugin-fs\");\n                        const text = await readTextFile(csvPath);\n\n                        Papa.parse(text, {\n                            header: true,\n                            skipEmptyLines: true,\n                            complete: (results) => {\n                                console.log(\"Parsed CSV via Tauri:\", results);\n                                if (results.data.length > 0) {\n                                    handleImport(results.data as any[]);\n                                } else {\n                                    alert(\"CSV file was empty or could not be parsed.\");\n                                }\n                            },\n                            error: (err: Error) => {\n                                console.error(\"CSV Parse Error:\", err);\n                                alert(\"Failed to parse the CSV file.\");\n                            }\n                        });\n                    } catch (err) {\n                        console.error(\"File read error:\", err);\n                        alert(\"Could not read the dropped file. Please try again.\");\n                    }\n                } else {\n                    alert(\"Please drop a .csv file\");\n                }\n            });\n        }\n\n        setup();\n\n        return () => {\n            unlistenDragOver?.();\n            unlistenDragLeave?.();\n            unlistenDrop?.();\n        };\n    }, []);\n\n    async function loadTransactions() {\n        try {\n            const db = getDB();\n            const rows = await db.select<Transaction[]>(\"SELECT * FROM transactions ORDER BY date DESC\");\n            setTransactions(rows);\n        } catch (e) {\n            console.error(\"Failed to load transactions:\", e);\n        }\n    }\n\n    const handleImport = useCallback((rawRows: any[]) => {\n        if (rawRows.length === 0) return;\n\n        console.log(\"Raw Import Keys:\", Object.keys(rawRows[0]));\n\n        // Helper to find key case-insensitively\n        const findVal = (row: any, keys: string[]) => {\n            const rowKeys = Object.keys(row);\n            for (const k of keys) {\n                const found = rowKeys.find(rk => rk.toLowerCase() === k.toLowerCase());\n                if (found) return row[found];\n            }\n            return null;\n        };\n\n        const mapped: Transaction[] = rawRows.map(row => {\n            const amountStr = findVal(row, [\"amount\", \"amt\", \"debit\", \"credit\", \"value\"]);\n            const amount = parseFloat(amountStr || \"0\");\n            const name = findVal(row, [\"description\", \"desc\", \"payee\", \"name\", \"transaction\", \"merchant\"]) || \"Unknown\";\n            const date = findVal(row, [\"date\", \"posting date\", \"transaction date\", \"time\"]) || new Date().toISOString().split('T')[0];\n            const memo = findVal(row, [\"memo\", \"details\", \"notes\"]) || \"\";\n\n            const category = autoCategorize(name);\n\n            return {\n                date: date,\n                name: name,\n                amount: isNaN(amount) ? 0 : amount,\n                category: category,\n                memo: memo,\n                status: \"pending\" as const\n            };\n        }).filter(t => t.amount !== 0 || t.name !== \"Unknown\");\n\n        if (mapped.length === 0) {\n            alert(\"Could not map any transactions. Check CSV headers. Looked for: Date, Description/Name, Amount.\");\n        } else {\n            setTransactions(prev => [...mapped, ...prev]);\n        }\n    }, []);\n\n    const handleUpdate = (index: number, field: keyof Transaction, value: any) => {\n        setTransactions(prev => {\n            const copy = [...prev];\n            copy[index] = { ...copy[index], [field]: value };\n            return copy;\n        });\n    };\n\n    const handleSave = async () => {\n        try {\n            const db = getDB();\n\n            for (const tx of transactions) {\n                if (!tx.id) {\n                    await db.execute(\n                        \"INSERT INTO transactions (date, name, amount, category, memo, status) VALUES ($1, $2, $3, $4, $5, $6)\",\n                        [tx.date, tx.name, tx.amount, tx.category, tx.memo, \"confirmed\"]\n                    );\n                } else {\n                    await db.execute(\n                        \"UPDATE transactions SET date=$1, name=$2, amount=$3, category=$4, memo=$5, status=$6 WHERE id=$7\",\n                        [tx.date, tx.name, tx.amount, tx.category, tx.memo, \"confirmed\", tx.id]\n                    );\n                }\n            }\n\n            await loadTransactions();\n            alert(\"Saved successfully!\");\n        } catch (e) {\n            console.error(\"Save failed:\", e);\n            alert(\"Failed to save data.\");\n        }\n    };\n\n    const handleDelete = useCallback((index: number) => {\n        setTransactions(prev => prev.filter((_, i) => i !== index));\n    }, []);\n\n    const handleDeleteAllTransactions = async () => {\n        const db = getDB();\n        await db.execute(\"DELETE FROM transactions\");\n        setTransactions([]);\n    };\n\n    if (isLoading) return <div className=\"p-8 text-center\">Loading Folioli...</div>;\n\n    return (\n        <div className={`min-h-screen bg-gray-50 flex flex-col font-sans ${isDragOver ? 'ring-4 ring-blue-500 ring-inset' : ''}`}>\n            <Header activeTab={activeTab} onTabChange={setActiveTab} />\n\n            <main className=\"flex-1 p-8\">\n                {activeTab === \"table\" ? (\n                    <>\n                        <section className=\"mb-6\">\n                            <DropZone onModelsImported={handleImport} isDragActive={isDragOver} />\n                        </section>\n\n                        <section>\n                            <TransactionTable\n                                transactions={transactions}\n                                onUpdate={handleUpdate}\n                                onDelete={handleDelete}\n                                onPasteImport={handleImport}\n                                onSave={handleSave}\n                            />\n                        </section>\n                    </>\n                ) : (\n                    <SettingsPage onDeleteAllTransactions={handleDeleteAllTransactions} />\n                )}\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}